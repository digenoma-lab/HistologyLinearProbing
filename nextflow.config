params {
    outdir = './results/'
}
process{
    withName: "import_features" {
        container = "oras://community.wave.seqera.io/library/pip_h5py_numpy_pandas_tqdm:36db6155b28d4045"
        memory = "10G"
        cpus = 1
    }
    withName: "grid_search" {
        container = "oras://community.wave.seqera.io/library/pip_h5py_numpy_pandas_scikit-learn:f3e50b92698f7128"
        memory = "100G"
        cpus = 16
    }
    withName: "scatterplot" {
        container = "oras://community.wave.seqera.io/library/r-ggplot2_r-tidyverse:12aafae3063e7f64"
        memory = "1G"
        cpus = 1
    }
    withName: "boxplot" {
        container = "oras://community.wave.seqera.io/library/r-ggplot2_r-tidyverse:12aafae3063e7f64"
        memory = "1G"
        cpus = 1
    }
}
profiles {
    kutral {
        singularity.enabled     = true
        singularity.autoMounts  = true
	    singularity.runOptions = ' --bind /mnt/beegfs/labs/ '
        conda.enabled           = false
        docker.enabled          = false
        podman.enabled          = false
        shifter.enabled         = false
        charliecloud.enabled    = false
        apptainer.enabled       = false
        process.executor = 'slurm'
        process.queue = 'ngen-ko'
        //executor.queueSize = 10
    }
    local {
        singularity.enabled     = true
        singularity.autoMounts  = true
	    singularity.runOptions = ' --bind /mnt/beegfs/labs/ '
        conda.enabled           = false
        docker.enabled          = false
        podman.enabled          = false
        shifter.enabled         = false
        charliecloud.enabled    = false
        apptainer.enabled       = false
    }
}
def trace_timestamp = new java.util.Date().format( 'yyyy-MM-dd_HH-mm-ss')
timeline {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_timeline_${trace_timestamp}.html"
}
report {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_report_${trace_timestamp}.html"
}
trace {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_trace_${trace_timestamp}.txt"
}
dag {
    enabled = true
    file    = "${params.outdir}/pipeline_info/pipeline_dag_${trace_timestamp}.html"
}
manifest {
    defaultBranch = 'main'
    author = 'Gabriel Cabas'
    version = '0.0.1'
}